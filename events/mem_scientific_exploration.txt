##################
#Idea by squid
#Written by Renegade404
#Coded by Algae328
##################

namespace = mem_scientific_exploration

country_event = {
	id = mem_scientific_exploration.1
	title = "mem_scientific_exploration.1.name"
	desc = "mem_scientific_exploration.1.desc"
	picture = GFX_evt_archaeological_dig
	location = home_planet
	show_sound = event_default
	
	mean_time_to_happen = {
		days = 6000
		modifier = {
			factor = .7
			any_neighbor_country = {
				has_ethic = ethic_materialist
			}
		}
		modifier = {
			factor = .5
			any_neighbor_country = {
				has_ethic = ethic_fanatic_materialist
			}
		}
	}
	
	trigger = {
		num_communications > 3
	}
	
	option = {
		name = "mem_scientific_exploration.1.a"
		trigger = {
			NOT = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		add_energy = 500
		add_modifier = {
			modifier = "mem_helped_explorers"
			days = 3600
		}
		every_owned_pop = {
			limit = {
				OR = {
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
			}
			add_modifier = {
				modifier = "mem_gave_up_artifact"
				days = 1800
			}
		}
	}
	option = {
		name = "mem_scientific_exploration.1.b"
		trigger = {
			OR = {
				has_government = despotic_hegemony
				has_government = science_directorate
				has_government = illuminated_technocracy
				has_government = ai_overlordship
			}
		}
		enable_special_project = {
			name = "MEM_REACTIVATE_ANCIENT_POWER_SOURCE"
			owner = root
			location = home_planet
		}
	}
	option = {
		name = "mem_scientific_exploration.1.c"
		add_influence = 50
		hidden_effect = {
			country_event = {
				id = mem_scientific_exploration.2
				days = 120
			}
		}
	}
}

country_event = {
	id = mem_scientific_exploration.2
	title = "mem_scientific_exploration.2.name"
	desc = "mem_scientific_exploration.2.desc"
	picture = GFX_evt_unknown_ships
	location = home_planet
	
	is_triggered_only = yes
	
	option = {
		name = "mem_scientific_exploration.2.a"
		add_influence = 100
		add_modifier = {
			modifier = mem_wave_of_obscurantism_research
			days = 3600
		}
		hidden_effect = {
			home_planet = {
				every_owned_pop = {
					limit = {
						OR = {
							has_ethic = ethic_spiritualist
							has_ethic = ethic_fanatic_spiritualist
						}
					}
					add_modifier = {
						modifier = mem_wave_of_obscurantism_spiritual
						days = 1800
					}
				}
				every_owned_pop = {
					limit = {
						OR = {
							has_ethic = ethic_materialist
							has_ethic = ethic_fanatic_materialist
						}
					}
					add_modifier = {
						modifier = mem_wave_of_obscurantism_material
						days = 1800
					}
				}
			}
		}
	}
	option = {
		name = "mem_scientific_exploration.2.b"
		trigger = {
			NOT = {
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		add_energy = 200
	}
	option = {
		name = "mem_scientific_exploration.2.c"
		trigger = {
			NOT = {
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		# hidden_effect = {
			# country_event = {
				# id = mem_scientific_exploration.3
			# }
		# }
	}
}

#TODO: create blasphemers empire, spawn fleet
country_event = {
	id = mem_scientific_exploration.3
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
	
	}
}