############################
#
# Lost Protege Events
# Idea and Code by LamilLerran
# Draft Writing by LamilLerran
#
############################

namespace = mem_lost_protege_event

@tier1materialreward = 6
@tier1materialmin = 100
@tier1materialmax = 500
@tier2materialreward = 12
@tier2materialmin = 150
@tier2materialmax = 1000
@tier3materialreward = 18
@tier3materialmin = 250
@tier3materialmax = 1500
@tier4materialreward = 24
@tier4materialmin = 350
@tier4materialmax = 2000

@tier1influencereward = 6
@tier1influencemin = 40
@tier1influencemax = 100
@tier2influencereward = 12
@tier2influencemin = 80
@tier2influencemax = 175
@tier3influencereward = 18
@tier3influencemin = 125
@tier3influencemax = 250
@tier4influencereward = 24
@tier4influencemin = 150
@tier4influencemax = 300

@tier1researchreward = 6
@tier1researchmin = 60
@tier1researchmax = 150
@tier2researchreward = 12
@tier2researchmin = 90
@tier2researchmax = 250
@tier3researchreward = 18
@tier3researchmin = 120
@tier3researchmax = 350
@tier4researchreward = 24
@tier4researchmin = 150
@tier4researchmax = 500

#Initial Discovery
country_event = {
	id = mem_lost_protege_event.1
	title = "mem_lost_protege_event.1.name"
	desc = "mem_lost_protege_event.1.desc"
	picture = GFX_evt_genetic_modification
	show_sound = event_laboratory_sound
	
	trigger = {
		is_ai = no
		has_technology = tech_epigenetic_triggers
		NOT = { has_country_flag = mem_lost_protege_started }
		any_neighbor_country = {
			is_country_type = fallen_empire
			has_communications = ROOT
		}
	}
	
	mean_time_to_happen = {
		months = 2400
	}

	immediate = {
		set_country_flag = mem_lost_protege_started
		capital_scope = { save_event_target_as = mem_protege_capital }
		random_neighbor_country = {
			limit = {
				is_country_type = fallen_empire
				has_communications = ROOT
			}
			save_event_target_as = mem_mentor_empire
		}
	}
	
	#TODO: Set flags for any of these options?
	option = {
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_materialist
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_xenophile
			}
		}
		name = mem_lost_protege_event.1.a
		enable_special_project = {
			name = "MEM_LOST_PROTEGE_START_PROJECT"
			location = event_target:mem_protege_capital
			owner = root
		}
	}
	option = {
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_materialist
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_xenophile
			}
		}
		name = mem_lost_protege_event.1.b
		set_country_flag = mem_lost_protege_ended
	}
	
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_materialist
				has_ethic = ethic_materialist
			}
		}
		name = mem_lost_protege_event.1.c
		enable_special_project = {
			name = "MEM_LOST_PROTEGE_START_PROJECT"
			location = event_target:mem_protege_capital
			owner = root
		}
	}
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_materialist
				has_ethic = ethic_materialist
			}
		}
		name = mem_lost_protege_event.1.d
		set_country_flag = mem_lost_protege_ended
	}
	
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
			}
		}
		name = mem_lost_protege_event.1.e
		enable_special_project = {
			name = "MEM_LOST_PROTEGE_START_PROJECT"
			location = event_target:mem_protege_capital
			owner = root
		}
	}
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
			}
		}
		name = mem_lost_protege_event.1.f
		set_country_flag = mem_lost_protege_ended
	}
	
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_xenophobe
			}
		}
		name = mem_lost_protege_event.1.g
		enable_special_project = {
			name = "MEM_LOST_PROTEGE_START_PROJECT"
			location = event_target:mem_protege_capital
			owner = root
		}
	}
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_xenophobe
			}
		}
		name = mem_lost_protege_event.1.h
		set_country_flag = mem_lost_protege_ended
	}
	
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_xenophile
			}
		}
		name = mem_lost_protege_event.1.i
		enable_special_project = {
			name = "MEM_LOST_PROTEGE_START_PROJECT"
			location = event_target:mem_protege_capital
			owner = root
		}
	}
	option = {
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_xenophile
			}
		}
		name = mem_lost_protege_event.1.j
		set_country_flag = mem_lost_protege_ended
	}
}
