#Hollow Asteroid
#Idea and writing by ViolentBeetle
#Code by Malthus

namespace = mem_hollow_asteroid

@tier1materialreward = 6
@tier1materialmin = 100
@tier1materialmax = 500
@tier2materialreward = 12
@tier2materialmin = 150
@tier2materialmax = 1000
@tier3materialreward = 18
@tier3materialmin = 250
@tier3materialmax = 1500
@tier4materialreward = 24
@tier4materialmin = 350
@tier4materialmax = 2000

@tier1influencereward = 6
@tier1influencemin = 40
@tier1influencemax = 100
@tier2influencereward = 12
@tier2influencemin = 80
@tier2influencemax = 175
@tier3influencereward = 18
@tier3influencemin = 125
@tier3influencemax = 250
@tier4influencereward = 24
@tier4influencemin = 150
@tier4influencemax = 300

@tier1researchreward = 6
@tier1researchmin = 60
@tier1researchmax = 150
@tier2researchreward = 12
@tier2researchmin = 90
@tier2researchmax = 250
@tier3researchreward = 18
@tier3researchmin = 120
@tier3researchmax = 350
@tier4researchreward = 24
@tier4researchmin = 150
@tier4researchmax = 500

#Light failure
ship_event = {
	id = mem_hollow_asteroid.1
	title = mem_hollow_asteroid.1.name
	desc = mem_hollow_asteroid.1.desc
	picture = GFX_evt_mining_station
	#show_sound = drilling sound, or stones falling against each other
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.1.a
	}
}

#Critical Failure
ship_event = {
	id = mem_hollow_asteroid.2
	title = mem_hollow_asteroid.2.name
	desc = mem_hollow_asteroid.2.desc
	picture = GFX_evt_exploding_ship
	#show_sound = explosion
	location = root
	
	is_triggered_only = yes
	
	immediate = {
		set_event_locked = yes
	}
	
	option = {
		name = mem_hollow_asteroid.2.a
		kill_leader = { type = scientist show_notification = no }
		fleet = { destroy_fleet = this }
	}
}

#Success: Space Mausoleum
ship_event = {
	id = mem_hollow_asteroid.10
	title = mem_hollow_asteroid.10.name
	desc = mem_hollow_asteroid.10.desc
	picture = GFX_evt_in_the_dark
	#show_sound = something eerie
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.10.a
		trigger = {
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_materialist
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_society_deposit
			}
		}
	}
	
	option = {
		name = mem_hollow_asteroid.10.b
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_materialist
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_society_deposit
			}
		}
	}
	
	option = {
		name = mem_hollow_asteroid.10.c
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_society_deposit
			}
		}
	}
	
	option = {
		name = mem_hollow_asteroid.10.d
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_xenophile
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_society_deposit
			}
		}
	}
}

#Success: Abandoned Space Resort
ship_event = {
	id = mem_hollow_asteroid.20
	title = mem_hollow_asteroid.20.name
	desc = mem_hollow_asteroid.20.desc
	picture = GFX_evt_archaeological_dig
	#show_sound = something eerie
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.20.a
		trigger = {
			owner = {
				Not = {
					has_ethic = ethic_fanatic_collectivist
				}
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_energy_deposit
			}
		}
	}
	
	option = {
		name = mem_hollow_asteroid.20.b
		trigger = {
			owner = {
				Not = {
					has_ethic = ethic_fanatic_individualist
				}
			}
		}
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		owner = {
			add_modifier = {
				modifier = mem_hollow_asteroid_resort
				days = 1800
			}
		}
	}
	
	option = {
		name = mem_hollow_asteroid.20.c
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_engineering_deposit
			}
		}
	}
}

#Success: Ancient Art Exhibition
ship_event = {
	id = mem_hollow_asteroid.30
	title = mem_hollow_asteroid.30.name
	desc = mem_hollow_asteroid.30.desc
	picture = GFX_evt_in_the_dark
	#show_sound = something eerie
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.30.a
		trigger = {
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_materialist
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
		owner = {
			add_influence = 50
		}
	}
	
	option = {
		name = mem_hollow_asteroid.30.b
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_materialist
			}
		}
		owner = {
			add_influence = 75
		}
	}
	
	option = {
		name = mem_hollow_asteroid.30.c
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_spiritualist
			}
		}
		owner = {
			add_influence = 75
		}
	}
	
	option = {
		name = mem_hollow_asteroid.30.d
		trigger = {
			owner = {
				has_ethic = ethic_fanatic_xenophile
			}
		}
		owner = {
			add_influence = 75
		}
	}
}

#Success: Panopticon
ship_event = {
	id = mem_hollow_asteroid.40
	title = mem_hollow_asteroid.40.name
	desc = mem_hollow_asteroid.40.desc
	picture = #GFX_evt_in_the_dark
	#show_sound = something eerie
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.40.a
		hidden_effect = {
			FROM = {
				orbital_deposit_tile = { clear_deposits = yes }
			}
		}
		FROM = { 
			orbital_deposit_tile = { 
				add_deposit = d_vast_engineering_deposit
			}
		}
	}
}

#Success: Kraken Quest Start
ship_event = {
	id = mem_hollow_asteroid.50
	title = mem_hollow_asteroid.50.name
	desc = mem_hollow_asteroid.50.desc
	picture = GFX_evt_in_the_dark
	#show_sound = hmmm think some more
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.50.a
		FROM = {
			enable_special_project = {
				name = MEM_HOLLOW_ASTEROID_KRAKEN
				location = this
				owner = root.owner
			}
		}
	}
}

#Project completed
ship_event = {
	id = mem_hollow_asteroid.51
	title = mem_hollow_asteroid.51.name
	desc = mem_hollow_asteroid.51.desc
	picture = GFX_evt_in_the_dark
	#show_sound = imagine something
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = mem_hollow_asteroid.51.a
		
	}
	
	option = {
		name = mem_hollow_asteroid.51.b
		
	}
}