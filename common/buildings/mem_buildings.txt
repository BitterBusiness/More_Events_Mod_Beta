@feupkeep = 4
@feproduction = 12
@feproduction_lab = 8

BWM_building_ancient_ruin_1 = {
	
    is_listed = no
	icon = "building_old_ruins"

	allow = {
		always = no
	}
	
	upgrades = {
		BWM_building_ancient_factory
		BWM_building_dark_matter_power_plant
		BWM_building_agri_processing_complex
		BWM_building_engineering_facility
		BWM_building_biolab
		BWM_building_physics_lab
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

BWM_building_ancient_ruin_2 = {
	
    is_listed = no
	icon = "building_destroyed"

	allow = {
		always = no
	}
	
	prerequisites = {
	}
}

BWM_building_ancient_monolith_0 = {
	
    is_listed = no
	icon = "building_monolith"

	allow = {
		always = no
	}
			
	upgrades = {
		BWM_building_ancient_monolith_1
		BWM_building_ancient_monolith_2
		BWM_building_ancient_monolith_3
		BWM_building_ancient_monolith_4
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

BWM_building_ancient_monolith_1 = {
	
    is_listed = no
	icon = "building_BWM_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
	    custom_tooltip = {
			text = "BWM_monolith_text"
			planet = {
				owner = {
				has_country_flag = BWM_monolith 
				}
			    has_planet_flag = "BWM_ring_1"
			    NOT = { has_planet_flag = "BWM_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 1
		tile_resource_society_research_mult = 1
		tile_resource_physics_research_mult = 1
	}
			
	prerequisites = {
	}
}

BWM_building_ancient_monolith_2 = {
	
    is_listed = no
	icon = "building_BWM_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
		custom_tooltip = {
			text = "BWM_monolith_text"
			planet = {
				owner = { has_country_flag = BWM_monolith 
				}
			    has_planet_flag = "BWM_ring_2"
			    NOT = { has_planet_flag = "BWM_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes

	planet_modifier  = {
		tile_resource_energy_mult = 1
		
	}
		
	prerequisites = {
	}
}

BWM_building_ancient_monolith_3 = {
	
    is_listed = no
	icon = "building_BWM_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
		custom_tooltip = {
		    text = "BWM_monolith_text"
			planet = {
				owner = {
				has_country_flag = BWM_monolith 
				}
			    has_planet_flag = "BWM_ring_3"
			    NOT = { has_planet_flag = "BWM_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes

	planet_modifier  = {
	    tile_resource_minerals_mult = 1
	}
		
	prerequisites = {
	}
}

BWM_building_ancient_monolith_4 = {
	
    is_listed = no
	icon = "building_BWM_ring_monolith"
	
	cost = {
		  energy = 10000
	}

	allow = {
		custom_tooltip = {
			text = "BWM_monolith_core_text"
			planet = {
				owner = {
				has_country_flag = BWM_UNLOCK 
				}
			    has_planet_flag = "BWM_nuked"
			}	
		}
	}
	
	ai_replace = no
	event_building = yes
	
	on_queued = {
		owner = {
			set_country_flag = BWM_monolith
		}
	}
	
	on_unqueued = {
		owner = {
			remove_country_flag = BWM_monolith
		}
	}
	
	country_modifier = {
		navy_size_mult = 1
	}
		
	prerequisites = {
	}
}

BWM_building_ancient_factory = {
	
    is_listed = no
	icon = "building_ancient_factory"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "BWM_building_ancient_monolith_3"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
		
	produced_resources = {
		minerals = @feproduction
	}
	
	required_resources = {
		energy = @feupkeep
	}	
	
	prerequisites = {
	}
}

BWM_building_dark_matter_power_plant = {
	
    is_listed = no
	icon = "building_dark_matter_power_plant"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "BWM_building_ancient_monolith_2"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
		
	produced_resources = {
		energy = 15
	}
	
	prerequisites = {
	}
}

BWM_building_agri_processing_complex = {
	
    is_listed = no
	icon = "building_agri_processing_complex"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
				OR = {
					has_building = "BWM_building_ancient_monolith_1"
					has_building = "BWM_building_ancient_monolith_2"
					has_building = "BWM_building_ancient_monolith_3"
				}
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		food = @feproduction
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}
}

BWM_building_engineering_facility = {

	is_listed = no
	icon = "building_BWM_ring_engineering_facility"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "BWM_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = @feproduction_lab
		physics_research = 1
		society_research = 1
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

BWM_building_biolab = {

	is_listed = no
	icon = "building_BWM_ring_biolab"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "BWM_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = 1
		physics_research = 1
		society_research = @feproduction_lab
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

BWM_building_physics_lab = {

	is_listed = no
	icon = "building_BWM_ring_physics_lab"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "BWM_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = 1
		physics_research = @feproduction_lab
		society_research = 1
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

BWM_building_obelisk_0 = {
	
    is_listed = no
	icon = "building_zanaam_obelisk"

	allow = {
		always = no
	}
			
	upgrades = {
		BWM_building_obelisk_1
		BWM_building_obelisk_2
		BWM_building_obelisk_3
		BWM_building_obelisk_4
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

BWM_building_obelisk_1 = {
	
    is_listed = no
	icon = "building_BWM_obelisk"
	
	cost = {
		  energy = 1000
		  minerals = 1000
		  influence = 50
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			planet = {
				owner = {
				has_country_flag = BWM_obelisk_init_1 
				}
				has_building = "BWM_building_obelisk_0"
				NOT = { has_building = "BWM_building_obelisk_1" }	
			}
		}
	}

	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.25
		tile_resource_physics_research_mult = 0.25
		tile_resource_society_research_mult = 0.25
	}
	
	ai_replace = no
	event_building = yes
	
	on_queued = {
		owner = {
			set_country_flag = BWM_obelisk_1
		}
	}
	
	on_unqueued = {
		owner = {
			remove_country_flag = BWM_obelisk_1
		}
	}

	prerequisites = {
	}
}

BWM_building_obelisk_2 = {
	
    is_listed = no
	icon = "building_BWM_obelisk"
	
	cost = {
		  energy = 2000
		  minerals = 2000
		  influence = 100
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			planet = {
				owner = {
				has_country_flag = BWM_obelisk_init_2 
				has_country_flag = BWM_obelisk_1
				}
				has_building = "BWM_building_obelisk_0"
				has_building = "BWM_building_obelisk_1"
				NOT = { has_building = "BWM_building_obelisk_2" }	
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.5
		tile_resource_physics_research_mult = 0.5
		tile_resource_society_research_mult = 0.5
	}
	
	ai_replace = no
	event_building = yes
	
	on_queued = {
		owner = {
			set_country_flag = BWM_obelisk_2
		}
	}
	
	on_unqueued = {
		owner = {
			remove_country_flag = BWM_obelisk_2
		}
	}

	prerequisites = {
	}
}

BWM_building_obelisk_3 = {
	
    is_listed = no
	icon = "building_BWM_obelisk"
	
	cost = {
		  energy = 4000
		  minerals = 4000
		  influence = 150
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			planet = {
				owner = {
					has_country_flag = BWM_obelisk_init_3 
					has_country_flag = BWM_obelisk_2
					}
					has_building = "BWM_building_obelisk_0"
					has_building = "BWM_building_obelisk_1"
					has_building = "BWM_building_obelisk_2"
					NOT = { has_building = "BWM_building_obelisk_3" }
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.75
		tile_resource_physics_research_mult = 0.75
		tile_resource_society_research_mult = 0.75
	}
	
	ai_replace = no
	event_building = yes
	
	on_queued = {
		owner = {
			set_country_flag = BWM_obelisk_3
		}
	}
	
	on_unqueued = {
		owner = {
			remove_country_flag = BWM_obelisk_3
		}
	}

	prerequisites = {
	}
}

BWM_building_obelisk_4 = {
	
    is_listed = no
	icon = "building_BWM_obelisk"
	
	cost = {
		  energy = 8000
		  minerals = 8000
		  influence = 200
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			planet = {
				owner = {
					has_country_flag = BWM_obelisk_init_4 
					has_country_flag = BWM_obelisk_3
					}
					has_building = "BWM_building_obelisk_0"
					has_building = "BWM_building_obelisk_1"
					has_building = "BWM_building_obelisk_2"
					has_building = "BWM_building_obelisk_3"
					NOT = { has_building = "BWM_building_obelisk_4" }
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 1
		tile_resource_physics_research_mult = 1
		tile_resource_society_research_mult = 1
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

building_BWM_obelisk_offline = {
	
    is_listed = no
	icon = "building_BWM_obelisk_offline"

	allow = {
		always = no
	}
	
	prerequisites = {
	}
}